---
layout: post
title: 템플릿-메소드(콜백) 패턴
date: 2022-07-29 19:30:00 + 0900
categories: Patterns
ref: Patterns, template, method, spring, jdbc
---

# 템플릿-메소드(콜백) 패턴

## 1. 템플릿 메소드 패턴 정의

### 1-1. 클래스 다이어그램

### 1-2. 템플릿 메소드의 후크

### 1-3. 할리우드 원칙

### 1-4. 전략 패턴과 차이

## 2. 템플릿-메소드 패턴 적용 과정

### 2-1. 문제점

### 2-2. 적용 (1)
변하는 부분과 변하지 않는 부분을 나누어...
try - catch - finally / PreparedStatement

DAO 로직 마다 상속을 통해 새로운 클래스를 만들어야 하는 단점이 있다.

확장구조가 클래스를 설계하는 시점에서 고정되어 유연성이 떨어진다.

### 2-3. 적용 (2)
context,  StatementStrategy 인터페이스
컨텍스트는 PreparedStatement 를 실행하는 JDBC 의 작업 흐름이고   
전략은 PreparedStatement 를 생성하는 것 이다.

DAO 메소드마다 새로운 StatementStrategy 구현클래스를 만들어야 한다.

익명 내부 클래스

### 2-4. 적용 (3)
전략 패턴의 기본 구조에 익명 내부 클래스를 활용한 방식 = 템플릿/콜백 패턴   
전략 패턴의 컨텍스트를 템플릿, 익명 내부 클래스로 만들어지는 오브젝트를 콜백이라 한다   
콜백 특정 로직을 담은 메소드를 실행 시키기 위해 사용, 펑셔널 오브젝트

템플릿-콜백 방식은 전략 패턴과 DI 의 장점을 익명 내부 클래스 사용 전략과 결합한 방법.   

## 3. 템플릿-메소드 패턴 활용 사례 - 스프링 JDBCTemplate

### 3-1.